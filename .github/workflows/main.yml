name: Unity CI/CD

on: [push, pull_request]
    
jobs:
  PULL_REQUEST:
    runs-on: ubuntu-latest
    if: github.event_name == 'pull_request'
    steps:
      - name: "Calling format check..."
        uses: ./.github/workflows/format.yaml
      - name: "Calling test runner..."
        uses: ./.github/workflows/test.yaml
  PUSH_MAIN:
    runs-on: ubuntu-latest
    if: github.event_name == 'push' && github.ref == 'refs/heads/main'
    steps:
      - name: "Calling format check..."
        uses: ./.github/workflows/format.yaml
      - name: "Calling test runner..."
        uses: ./.github/workflows/test.yaml
  PUSH_RELEASE:
    runs-on: ubuntu-latest
    if: github.event_name == 'push' && github.ref == 'refs/heads/release'
    steps:
      - name: "Calling format check..."
        uses: ./.github/workflows/format.yaml
      - name: "Calling test runner..."
        uses: ./.github/workflows/test.yaml
      - name: "Calling build runner..."
        uses: ./.github/workflows/build.yaml
