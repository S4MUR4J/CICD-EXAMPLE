name: Unity CI/CD - Main push (Format check, Test Runner)

on:
  push:
    branches: [ "main" ]
    
jobs:
  call-format:
    name: Format check ğŸ—’ï¸
    uses: ./.github/workflows/re-format.yml
  call-tags:
    needs: call-format
    name: Version tag ğŸ·ï¸
    uses: ./.github/workflows/re-tag.yml
  call-tests:
    needs: call-tags
    name: Test runner ğŸ§ª
    uses: ./.github/workflows/re-tests.yml
    secrets: inherit
  call-build:
    needs: call-tests
    name: Build and release ğŸ—ï¸
    uses: ./.github/workflows/re-build.yml
    secrets: inherit
